---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/144837PRreviews/96169943lcrefactor.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/144837PRreviews/index.html">PR reviews</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html">#943 lc refactor</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="165044255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/165044255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#165044255">Johan Commelin (May 07 2019 at 05:29)</a>:</h4>
<p><span class="user-mention" data-user-id="129120">@Alexander Bentkamp</span> Any news on this PR? Are there problems or challenges showing up?</p>

<a name="165051068"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/165051068" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#165051068">Alexander Bentkamp (May 07 2019 at 08:06)</a>:</h4>
<p>Yes, It's definitely a challenge. I don't believe in Mario's proposal to remove the <code>set</code> argument of <code>linear_independent</code> anymore. I tried it and it led me into something that felt like a swamp. It wasn't really that I got stuck, but it just felt harder and harder to move forward <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> .</p>

<a name="165051416"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/165051416" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#165051416">Mario Carneiro (May 07 2019 at 08:10)</a>:</h4>
<p>pray tell</p>

<a name="165051515"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/165051515" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#165051515">Mario Carneiro (May 07 2019 at 08:12)</a>:</h4>
<p>my claim is that it should be easier, so even if you were able to finish a proof if it seemed unnecessarily complicated then I would like to see it</p>

<a name="165053977"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/165053977" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#165053977">Alexander Bentkamp (May 07 2019 at 08:58)</a>:</h4>
<p>Ok, I pushed my current state to the pull request. It's a big mess, but what I have been trying to do is to adapt <code>linear_independent_union</code> to the new definition. I figured that I'd need some auxilliary lemmas and started adding those on the top of the file. But those lemmas again needed additional lemmas etc.</p>

<a name="165148467"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/165148467" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#165148467">Alexander Bentkamp (May 08 2019 at 09:47)</a>:</h4>
<p>My new plan is to change the definition of <code>is_basis</code> first. Some lemmas about <code>linear_dependent</code> seem to be very specifically designed to be used in the section about <code>is_basis</code>. Once I have made it work for <code>is_basis</code>, I might see more clearly.</p>

<a name="166372225"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166372225" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166372225">Alexander Bentkamp (May 23 2019 at 15:35)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> How do you think should the lemmas <code>exists_linear_independent</code> and <code>linear_independent_sUnion_of_directed</code> look like after the refactoring? I am tempted to use sets for this, i.e. <code>linear_independent α (subtype.val : s → β)</code> for <code>s : set β</code>.</p>

<a name="166406601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166406601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166406601">Mario Carneiro (May 23 2019 at 22:39)</a>:</h4>
<p><code>exists_linear_independent</code> should use sets to some extent. Given a linear independent family <code>f : I -&gt; V</code> and a set <code>t : set V</code> such that <code>\all i, f i \in t</code>, there exists a <code>b \sub t</code> such that <code>\all i, f i \in b</code> and <code>t \sub span b</code> and <code>(coe : b -&gt; V)</code> is linear independent</p>

<a name="166406701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166406701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166406701">Mario Carneiro (May 23 2019 at 22:41)</a>:</h4>
<p><code>linear_independent_sUnion_of_directed</code> looks equivalent to some statement about colimits, I will ask <span class="user-mention" data-user-id="110032">@Reid Barton</span></p>

<a name="166407026"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166407026" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166407026">Mario Carneiro (May 23 2019 at 22:47)</a>:</h4>
<p>The background is a collection of maps <code>f j : I j -&gt; V</code> where <code>j : J</code> is coming from a partially ordered index set, and there is a map <code>h j j' : I j -&gt; I j'</code> when <code>j &lt;= j'</code>, and <code>f j' = h j j' o f j</code></p>

<a name="166407193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166407193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166407193">Reid Barton (May 23 2019 at 22:50)</a>:</h4>
<p>This is for the goal of proving that every vector space has a basis, right?<br>
If you're going to do it using Zorn's lemma then you need to bring in sets at some point I suppose.</p>

<a name="166407211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166407211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166407211">Mario Carneiro (May 23 2019 at 22:50)</a>:</h4>
<p>I'm just thinking about <code>linear_independent_sUnion_of_directed</code> in isolation at the moment</p>

<a name="166407215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166407215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166407215">Reid Barton (May 23 2019 at 22:50)</a>:</h4>
<p>In its current form, it looks like the lemma basically reflects the fact that linear independence can be checked on finite subsets</p>

<a name="166407310"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166407310" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166407310">Mario Carneiro (May 23 2019 at 22:51)</a>:</h4>
<p>if you replace the sets with familes, then I think it's talking about a colimit cone in Type</p>

<a name="166407394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166407394" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166407394">Mario Carneiro (May 23 2019 at 22:52)</a>:</h4>
<p>(Obviously this is bringing enough new tech to the statement that the original version will be wanted anyway, but I'm trying to find the "natural generalization")</p>

<a name="166407425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166407425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166407425">Reid Barton (May 23 2019 at 22:53)</a>:</h4>
<p>Not just in Type, but types equipped with a map to β (i.e. <code>over Type β</code>)</p>

<a name="166407442"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166407442" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166407442">Reid Barton (May 23 2019 at 22:54)</a>:</h4>
<p>i.e. "families in β"</p>

<a name="166407522"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166407522" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166407522">Reid Barton (May 23 2019 at 22:54)</a>:</h4>
<p>So then I suppose it says that the families which consist of linearly independent elements are closed under directed colimits</p>

<a name="166431644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166431644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166431644">Alexander Bentkamp (May 24 2019 at 08:05)</a>:</h4>
<blockquote>
<p>Obviously this is bringing enough new tech to the statement that the original version will be wanted anyway, but I'm trying to find the "natural generalization"</p>
</blockquote>
<p>You mean I should leave the current version basically as is and then derive the family version from it? IMO that would be the easiest way to prove it.</p>

<a name="166433645"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166433645" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166433645">Mario Carneiro (May 24 2019 at 08:41)</a>:</h4>
<p>I mean you should in principle derive the union from the family version, but since the family version looks complicated just keep the set version and put the family version off until we need it</p>

<a name="166434116"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166434116" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166434116">Alexander Bentkamp (May 24 2019 at 08:50)</a>:</h4>
<p>ok</p>

<a name="166434146"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/144837-PR%20reviews/topic/%23943%20lc%20refactor/near/166434146" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/144837PRreviews/96169943lcrefactor.html#166434146">Alexander Bentkamp (May 24 2019 at 08:50)</a>:</h4>
<p>I think I will have something that complies again soon. Then I'll show you what I've done so far.</p>


{% endraw %}
