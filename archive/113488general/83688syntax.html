---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/113488general/83688syntax.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html">syntax</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="127544480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127544480" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127544480">Reid Barton (Jun 04 2018 at 13:22)</a>:</h4>
<p>Fun fact: <code>notation</code> applies even in <code>namespace</code> commands, so if you write <code>notation `foo` := bar</code> and then <code>namespace foo</code> it means <code>namespace bar</code></p>

<a name="127544555"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127544555" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127544555">Simon Hudon (Jun 04 2018 at 13:24)</a>:</h4>
<p>Cool! :)</p>

<a name="127544571"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127544571" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127544571">Simon Hudon (Jun 04 2018 at 13:25)</a>:</h4>
<p>I don't know if that's a good thing but I was properly surprised when I realized what you meant</p>

<a name="127544624"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127544624" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127544624">Reid Barton (Jun 04 2018 at 13:26)</a>:</h4>
<p>If you don't want this to happen (like I didn't) then you can write <code>namespace «foo»</code></p>

<a name="127544649"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127544649" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127544649">Simon Hudon (Jun 04 2018 at 13:27)</a>:</h4>
<p>Curiously enough, it also works on binders: <code>∀ foo, f foo</code> actually means <code>∀ bar, f bar</code> which is inconvenient when the notation is a short hand for an expression, not an identifier</p>

<a name="127544653"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127544653" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127544653">Simon Hudon (Jun 04 2018 at 13:27)</a>:</h4>
<p>Thanks for the fix</p>

<a name="127544833"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127544833" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127544833">Sebastian Ullrich (Jun 04 2018 at 13:31)</a>:</h4>
<p>o.O</p>

<a name="127544900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127544900" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127544900">Simon Hudon (Jun 04 2018 at 13:32)</a>:</h4>
<p>I take it that's unintended behavior?</p>

<a name="127544969"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127544969" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127544969">Reid Barton (Jun 04 2018 at 13:34)</a>:</h4>
<p>(I was actually using <code>local notation</code>, in case that matters)</p>

<a name="127545111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127545111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127545111">Sebastian Ullrich (Jun 04 2018 at 13:37)</a>:</h4>
<p>I get "identifier expected" in both cases</p>
<div class="codehilite"><pre><span></span>constants foo bar : Type
local notation `foo` := bar
#check ∀ foo, foo
namespace foo
</pre></div>

<a name="127545171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127545171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127545171">Reid Barton (Jun 04 2018 at 13:38)</a>:</h4>
<p>Oh, I might have jumped to conclusions.<br>
What actually happened was that I was inside <code>namespace foo</code> and then I defined <code>foo</code> as local notation for something, and then <code>end foo</code> stopped working.</p>

<a name="127545183"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127545183" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127545183">Reid Barton (Jun 04 2018 at 13:39)</a>:</h4>
<p>with some error like "identifier expected"</p>

<a name="127545332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127545332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127545332">Simon Hudon (Jun 04 2018 at 13:42)</a>:</h4>
<p>Yes, you're right. That's what happens for me too. Sorry about the confusion</p>

<a name="127545397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127545397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127545397">Sebastian Ullrich (Jun 04 2018 at 13:44)</a>:</h4>
<p>I see. This will probably be fixed in Lean 4 automatically since we will be using a parser combinator without a scanner, so we can skip notations where we only want to parse identifiers.</p>

<a name="127545431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127545431" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127545431">Simon Hudon (Jun 04 2018 at 13:45)</a>:</h4>
<p>How is that going by the way?</p>

<a name="127545680"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127545680" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127545680">Sebastian Ullrich (Jun 04 2018 at 13:51)</a>:</h4>
<p>Let's... say that we're transitioning from the planning phase to the implementation phase (parser, compiler, and other refactorings)</p>

<a name="127545899"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/127545899" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#127545899">Simon Hudon (Jun 04 2018 at 13:56)</a>:</h4>
<p>Exciting :D I can't wait to see where that will end up!</p>

<a name="166864691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/166864691" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#166864691">Tim Daly (May 29 2019 at 22:54)</a>:</h4>
<p>Is there an EBNF description of the Lean syntax?</p>

<a name="166864806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/166864806" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#166864806">Wojciech Nawrocki (May 29 2019 at 22:56)</a>:</h4>
<p>Maybe this: <a href="https://leanprover.github.io/reference/lexical_structure.html" target="_blank" title="https://leanprover.github.io/reference/lexical_structure.html">https://leanprover.github.io/reference/lexical_structure.html</a> ? I'm not sure if it's actually EBNF</p>

<a name="166864945"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/166864945" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#166864945">Tim Daly (May 29 2019 at 22:59)</a>:</h4>
<p>That doesn't describe, for example, the syntax of optional types, etc. It is more like a tokenizer syntax.</p>

<a name="166865244"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/166865244" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#166865244">Wojciech Nawrocki (May 29 2019 at 23:03)</a>:</h4>
<p>Oh, that's true</p>

<a name="166865321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/166865321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#166865321">Tim Daly (May 29 2019 at 23:04)</a>:</h4>
<p>I'd like to accept Lean syntax as part of a system I'm building, making it easier to export proofs to Lean</p>

<a name="166865501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/166865501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#166865501">Wojciech Nawrocki (May 29 2019 at 23:08)</a>:</h4>
<p>Perhaps <a href="https://bitbucket.org/gebner/pygments-main/src/d5e82e6ed58cfedf985cb1d5d55d056e477aa667/pygments/lexers/theorem.py?at=default#lines-377" target="_blank" title="https://bitbucket.org/gebner/pygments-main/src/d5e82e6ed58cfedf985cb1d5d55d056e477aa667/pygments/lexers/theorem.py?at=default#lines-377">the Pygments syntax description</a> might help?</p>

<a name="166865935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/166865935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#166865935">Tim Daly (May 29 2019 at 23:14)</a>:</h4>
<p>Wow,  the person who wrote that code is multilingual. Still it is only a tokenizer. I was hoping that I didn't have to create the EBNF from Leonardo's source code.</p>

<a name="166887712"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/166887712" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#166887712">Mario Carneiro (May 30 2019 at 07:44)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="115334">@Thales</span> wrote a Lean grammar for Mehnir, which is probably the closest approximation yet. Part of the problem is that lean isn't actually context free, so you have to make a bunch of approximations and it's not actually sure to work (or even likely to work without a lot of hard-coding) on a real lean file</p>

<a name="167059113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/syntax/near/167059113" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/83688syntax.html#167059113">Tim Daly (Jun 01 2019 at 06:55)</a>:</h4>
<p>Well, I read the sources looking for EBNF. Unfortunately(?) Lean uses Pratt parsing. You can change syntax on the fly.</p>


{% endraw %}
