---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/75424HoTT.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html">HoTT</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="166520970"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166520970" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166520970">Kevin Buzzard (May 25 2019 at 10:17)</a>:</h4>
<p>Here's a message I just posted to the <a href="https://groups.google.com/forum/#!forum/homotopytypetheory" target="_blank" title="https://groups.google.com/forum/#!forum/homotopytypetheory">homotopy type theory google group forum</a>:</p>
<blockquote>
<p>Hi from a Lean user.</p>
<p>As many people here will know, Tom Hales' formal abstracts project <a href="https://formalabstracts.github.io/" target="_blank" title="https://formalabstracts.github.io/">https://formalabstracts.github.io/</a> wants to formalise many of the statements of modern pure mathematics in Lean. One could ask more generally about a project of formalising many of the statements of modern pure mathematics in an arbitrary system, such as HoTT. I know enough about the formalisation process to know that whatever system one chooses, there will be pain points, because some mathematical ideas fit more readily into some foundational systems than others.</p>
<p>I have seen enough of Lean to become convinced that the pain points would be surmountable in Lean. I have seen enough of Isabelle/HOL to become skeptical about the idea that it would be suitable for all of modern pure mathematics, although it is clearly suitable for some of it; however it seems that simple type theory struggles to handle things like tensor products of sheaves of modules on a scheme, because sheaves are dependent types and it seems that one cannot use Isabelle's typeclass system to handle the rings showing up in a sheaf of rings.</p>
<p>I have very little experience with HoTT. I have heard that the fact that "all constructions must be isomorphism-invariant" is both a blessing and a curse. However I would like to know more details. I am speaking at the Big Proof conference in Edinburgh this coming Wednesday on the pain points involved with formalising mathematical objects in dependent type theory and during the preparation of my talk I began to wonder what the analogous picture was with HoTT.</p>
<p>Everyone will have a different interpretation of "modern pure mathematics" so to fix our ideas, let me say that for the purposes of this discussion, "modern pure mathematics" means the statements of the theorems publishsed by the Annals of Mathematics over the last few years, so for example I am talking about formalising statements of theorems involving L-functions of abelian varieties over number fields, Hodge theory, cohomology of algebraic varieties, Hecke algebras of symmetric groups, Ricci flow and the like; one can see titles and more at <a href="http://annals.math.princeton.edu/2019/189-3" target="_blank" title="http://annals.math.princeton.edu/2019/189-3">http://annals.math.princeton.edu/2019/189-3</a> . Classical logic and the axiom of choice are absolutely essential -- I am only interested in the hard-core "classical mathematician" stance of the way mathematics works, and what it is.</p>
<p>If this is not the right forum for this question, I would be happily directed to somewhere more suitable. After spending 10 minutes failing to get onto ##hott on freenode ("you need to be identified with services") I decided it was easier just to ask here. If people want to chat directly I am usually around at <a href="" target="_blank" title="">https://leanprover.zulipchat.com/</a> (registration required, full names are usually used, I'll start a HoTT thread in #mathematics).</p>
<p>Kevin Buzzard</p>
</blockquote>
<p>Does anyone here have enough experience with HoTT to say anything? I've asked here questions like "what would the pain points be if one tried to formalise a scheme in HoTT?" and have got answers of the form "if you want to find out, you should go ahead and try". I'm not sure I have time to learn another system though. I have even dumber questions -- how would one define the trace of a linear map from a finite-dimensional vector space to itself? A mathematician would pick a basis, compute the trace of the corresponding matrix, and then note that it was independent of the choice. Is this problematic in HoTT?</p>

<a name="166521201"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166521201" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166521201">Reid Barton (May 25 2019 at 10:25)</a>:</h4>
<p>I suppose it will depend on exactly how you define "finite-dimensional vector space". If it's defined as a vector space together with <code>trunc</code> of a basis, then the procedure for defining the trace of a map goes exactly how you describe.</p>

<a name="166521275"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166521275" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166521275">Reid Barton (May 25 2019 at 10:27)</a>:</h4>
<p><code>trunc</code> is called the "propositional truncation" in HoTT although "proposition" there more closely corresponds to what Lean calls <code>subsingleton</code></p>

<a name="166521523"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166521523" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166521523">Reid Barton (May 25 2019 at 10:35)</a>:</h4>
<p>In particular, this definition is constructive. However you would probably need the axiom of choice to prove that a quotient of a finite dimensional vector space is again finite dimensional.</p>

<a name="166521718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166521718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166521718">Reid Barton (May 25 2019 at 10:41)</a>:</h4>
<p>Or maybe LEM is enough, but that's still an uncomputable axiom</p>

<a name="166522080"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522080" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522080">Reid Barton (May 25 2019 at 10:52)</a>:</h4>
<p>I haven't actually used a HoTT-based theorem prover yet, only read the book. I do find it difficult to get a sense of how HoTT+choice would work in practice. I think this is a cultural phenomenon: there tends to be overlap between people interested in HoTT and people interested in constructive logic. (Consider that the same could be said about Coq, yet Lean is based on essentially the same underlying type theory and look where we are now.)</p>

<a name="166522337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522337">Reid Barton (May 25 2019 at 11:01)</a>:</h4>
<p><span class="user-mention" data-user-id="111080">@Floris van Doorn</span> Does the construction of the Serre SS use any axioms?</p>

<a name="166522344"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522344" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522344">Reid Barton (May 25 2019 at 11:01)</a>:</h4>
<p>Kevin, I wouldn't be surprised if in fact nobody has done anything resembling what you're asking about.</p>

<a name="166522401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522401">Reid Barton (May 25 2019 at 11:03)</a>:</h4>
<p>In the areas that require classical logic/choice, I mean.</p>

<a name="166522651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522651" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522651">Mario Carneiro (May 25 2019 at 11:10)</a>:</h4>
<p>I think UniMath is trying to build a general mathematical library on a HoTT foundation</p>

<a name="166522664"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522664" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522664">Mario Carneiro (May 25 2019 at 11:11)</a>:</h4>
<p>I think it slowed down when Voevodsky died though</p>

<a name="166522666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522666">Kevin Buzzard (May 25 2019 at 11:11)</a>:</h4>
<p>What am I asking about? Doing fabstracts in hott or making schemes in hott? I am currently thinking about undergraduate maths. Say V and W are finite dimensional vector spaces over an arbitrary field, defined however you like, and we have a linear map from V to W. Say X is the kernel. Say I have a linear map from X to X. Can I define its trace in HoTT?</p>

<a name="166522670"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522670" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522670">Kevin Buzzard (May 25 2019 at 11:11)</a>:</h4>
<p>So unimath is to mathlib as hott is to lean?</p>

<a name="166522716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522716">Mario Carneiro (May 25 2019 at 11:12)</a>:</h4>
<p>I think so, I'm no expert though</p>

<a name="166522739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522739" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522739">Kevin Buzzard (May 25 2019 at 11:13)</a>:</h4>
<p>Then where is the analogue of me who tried to do completely dumb simple maths things in HoTT?</p>

<a name="166522797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522797">Mario Carneiro (May 25 2019 at 11:14)</a>:</h4>
<p>I certainly wouldn't be able to answer that</p>

<a name="166522799"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522799" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522799">Mario Carneiro (May 25 2019 at 11:14)</a>:</h4>
<p>I'm sure there are such people in the community but I'm not enough a part of it to say</p>

<a name="166522801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522801" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522801">Kevin Buzzard (May 25 2019 at 11:14)</a>:</h4>
<p>Can it be done and how far did they get? Where are the pain points? Who should I ask?</p>

<a name="166522805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522805" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522805">Mario Carneiro (May 25 2019 at 11:15)</a>:</h4>
<p>I guess the UniMath foundation?</p>

<a name="166522814"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522814" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522814">Kevin Buzzard (May 25 2019 at 11:15)</a>:</h4>
<p>Hopefully someone will respond to my post on the mailing list</p>

<a name="166522819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522819" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522819">Kevin Buzzard (May 25 2019 at 11:15)</a>:</h4>
<p>Thanks, I'll try them</p>

<a name="166522873"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522873" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522873">Mario Carneiro (May 25 2019 at 11:16)</a>:</h4>
<p>Part of the problem is that the HoTT world is very fragmented, so no individual project has very many people working on it</p>

<a name="166522878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522878">Mario Carneiro (May 25 2019 at 11:16)</a>:</h4>
<p>which I might argue is one of the downsides of DTT, strangely enough</p>

<a name="166522897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522897" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522897">Mario Carneiro (May 25 2019 at 11:17)</a>:</h4>
<p>The HoTT people really embrace the D in DTT, and when you work like that the exact details of definitional equality matter a lot; but there is not a uniform conception of what it should be, so you end up with a bunch of incompatible axiomatizations</p>

<a name="166522948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522948">Kevin Buzzard (May 25 2019 at 11:18)</a>:</h4>
<p>Does unimath work only with constructive maths??</p>

<a name="166522952"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522952" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522952">Kevin Buzzard (May 25 2019 at 11:18)</a>:</h4>
<p>No such system will ever catch on with mathematicians</p>

<a name="166522972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522972">Mario Carneiro (May 25 2019 at 11:19)</a>:</h4>
<blockquote>
<p>The axioms accepted are: the univalence axiom, the law of excluded middle, the axiom of choice, and a few new variants of the axiom of choice, validated by the semantic model.</p>
</blockquote>

<a name="166522973"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166522973" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166522973">Kevin Buzzard (May 25 2019 at 11:19)</a>:</h4>
<p>I am continually weirded out by the fact that Leo simultaneously seems completely uninterested in mathematics and yet seems to have made the system which is most suitable for general pure mathematicians</p>

<a name="166523021"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166523021" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166523021">Kevin Buzzard (May 25 2019 at 11:20)</a>:</h4>
<p>Ok great I'll ask the univalent people if they can define the trace of a linear map and a scheme</p>

<a name="166523036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166523036" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166523036">Mario Carneiro (May 25 2019 at 11:21)</a>:</h4>
<p>I heard about it from Daniel Grayson, who is the lead developer; you could ask him for a summary</p>

<a name="166523044"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166523044" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166523044">Kevin Buzzard (May 25 2019 at 11:22)</a>:</h4>
<p>Oh I know Dan from my sci.math.research days</p>

<a name="166523091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166523091" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166523091">Mario Carneiro (May 25 2019 at 11:22)</a>:</h4>
<p>the readme at <a href="https://github.com/UniMath/UniMath/tree/master/UniMath" target="_blank" title="https://github.com/UniMath/UniMath/tree/master/UniMath">https://github.com/UniMath/UniMath/tree/master/UniMath</a> has a bunch of useful general info</p>

<a name="166523260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166523260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166523260">Reid Barton (May 25 2019 at 11:27)</a>:</h4>
<blockquote>
<p>What am I asking about? Doing fabstracts in hott or making schemes in hott? I am currently thinking about undergraduate maths. Say V and W are finite dimensional vector spaces over an arbitrary field, defined however you like, and we have a linear map from V to W. Say X is the kernel. Say I have a linear map from X to X. Can I define its trace in HoTT?</p>
</blockquote>
<p>I mean formalizing even relatively basic constructions like this one that (apparently) require choice.<br>
I'm pretty sure that this is possible in HoTT (plus choice). In either HoTT or Lean you must first prove that X is finite dimensional (has a finite basis); that part will go the same way. In HoTT you will also need to prove that the trace is independent of the choice of basis, which is not a bad thing.</p>

<a name="166524854"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166524854" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166524854">Kevin Buzzard (May 25 2019 at 12:15)</a>:</h4>
<p>In HoTT if I define what it means for a ring to be local, would I have to prove that a ring isomorphic to a local ring is local before I can even make the definition?</p>

<a name="166525101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525101">Reid Barton (May 25 2019 at 12:22)</a>:</h4>
<p>No, you'd define it the same way as in Lean</p>

<a name="166525291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525291">Chris Hughes (May 25 2019 at 12:28)</a>:</h4>
<p>I think even stupid thing like this are isomorphism invariant in HoTT.</p>
<div class="codehilite"><pre><span></span><span class="kn">example</span> <span class="o">{</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="bp">∃</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">ℤ</span> <span class="bp">=</span> <span class="n">α</span><span class="o">,</span> <span class="o">(</span><span class="mi">0</span> <span class="o">:</span> <span class="n">α</span><span class="o">)</span> <span class="bp">=</span> <span class="n">eq</span><span class="bp">.</span><span class="n">rec_on</span> <span class="n">h</span> <span class="mi">37</span>
</pre></div>

<a name="166525302"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525302" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525302">Reid Barton (May 25 2019 at 12:29)</a>:</h4>
<p>I think a first approximation to how choice works in HoTT, expressed in the language of Lean, is that one can no longer have <code>choice : nonempty X -&gt; X</code>, but one still has</p>
<ul>
<li><code>unique_choice : nonempty X -&gt; trunc X</code>, which means that you can extract a witness for an existential to construct something provided you can prove the result doesn't depend on the choice of witness, and</li>
<li><code>axiom_of_choice : (∀ x, ∃ y, r x y) -&gt; ∃ f, ∀ x, r x (f x)</code></li>
</ul>

<a name="166525353"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525353" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525353">Chris Hughes (May 25 2019 at 12:30)</a>:</h4>
<p>What's the difference between <code>nonempty</code> and <code>trunc</code> in HoTT?</p>

<a name="166525366"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525366" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525366">Reid Barton (May 25 2019 at 12:31)</a>:</h4>
<p>There isn't one (at least in book HoTT) because HoTT has no notion of judgmentally being a proposition.</p>

<a name="166525373"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525373" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525373">Chris Hughes (May 25 2019 at 12:31)</a>:</h4>
<p>So unique choice is <code>id</code>?</p>

<a name="166525374"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525374" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525374">Reid Barton (May 25 2019 at 12:31)</a>:</h4>
<p>So the result is that places where we would use an ∃ in Lean correspond to <code>|| ∃ ... ||</code> in HoTT</p>

<a name="166525419"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525419" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525419">Reid Barton (May 25 2019 at 12:32)</a>:</h4>
<p>or let's say <code>|| Σ ... ||</code> to be more clear</p>

<a name="166525435"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525435" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525435">Reid Barton (May 25 2019 at 12:33)</a>:</h4>
<p>where <code>|| ... ||</code> is the propositional truncation (Lean <code>trunc</code>)</p>

<a name="166525484"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525484" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525484">Reid Barton (May 25 2019 at 12:34)</a>:</h4>
<p>Right, so unique choice doesn't really correspond to anything in HoTT but I tried to give a translation into a Lean worldview.</p>

<a name="166525501"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525501" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525501">Reid Barton (May 25 2019 at 12:35)</a>:</h4>
<p>Actually the HoTT book does have something it calls "unique choice", which is the statement that if P is a Prop (Lean: <code>subsingleton P</code>) then P is equivalent to ||P||.</p>

<a name="166525503"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166525503" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166525503">Reid Barton (May 25 2019 at 12:35)</a>:</h4>
<p>But it's a theorem</p>

<a name="166526168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166526168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166526168">Kevin Buzzard (May 25 2019 at 12:53)</a>:</h4>
<p>Is UniMath written in book HoTT?</p>

<a name="166526726"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166526726" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166526726">Reid Barton (May 25 2019 at 13:08)</a>:</h4>
<p>"Close enough"</p>

<a name="166526753"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166526753" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166526753">Reid Barton (May 25 2019 at 13:09)</a>:</h4>
<p>It seems to be book HoTT minus some features like inductive types</p>

<a name="166526835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166526835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166526835">Kevin Buzzard (May 25 2019 at 13:11)</a>:</h4>
<p>So given a tool like Coq or Lean, you can either use it as God intended, as it were, or you can start adding additional rules of the form "you can use this axiom" and "you can't use this command"</p>

<a name="166526884"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166526884" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166526884">Kevin Buzzard (May 25 2019 at 13:12)</a>:</h4>
<p>This then surely makes for a more inefficient system, as the way it is designed is somehow slightly in conflict with the way it is being used.</p>

<a name="166527727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166527727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166527727">Koundinya Vajjha (May 25 2019 at 13:36)</a>:</h4>
<p>Here's my two cents:<br>
The main advantage univalence gives us from a formalization perspective is that it allows for implementation irrelevance. I can build an entire library of the p-adics using the algebraic definition, and if someone in the future needs to use the analytic definition, she can simply transport the statements (and proofs!) proven using the first definitions onto the second.</p>

<a name="166527791"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166527791" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166527791">Koundinya Vajjha (May 25 2019 at 13:38)</a>:</h4>
<p>However, this requires computable univalence, which is an open problem in book HoTT.</p>

<a name="166528012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166528012" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166528012">Koundinya Vajjha (May 25 2019 at 13:45)</a>:</h4>
<p>If we do "fabstracts in HoTT", then it would mean that we could formalize a single definition for each mathematical statement and that would, by univalence, be akin to formalizing a whole equivalence class of such definitions. (<em>upto homotopy</em>)</p>

<a name="166528065"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166528065" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166528065">Koundinya Vajjha (May 25 2019 at 13:46)</a>:</h4>
<p>Sadly this would require changes to the underlying type theory to one where univalence actually computes, such as cubical type theory.</p>

<a name="166528125"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166528125" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166528125">Kevin Buzzard (May 25 2019 at 13:48)</a>:</h4>
<blockquote>
<p>Here's my two cents:<br>
The main advantage univalence gives us from a formalization perspective is that it allows for implementation irrelevance. I can build an entire library of the p-adics using the algebraic definition, and if someone in the future needs to use the analytic definition, she can simply transport the statements (and proofs!) proven using the first definitions onto the second.</p>
</blockquote>
<p>I don't see any reason why we can't do this in Lean, once those computer scientists have written the <code>transport </code> tactic for us.</p>

<a name="166528326"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166528326" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166528326">Koundinya Vajjha (May 25 2019 at 13:55)</a>:</h4>
<p>I haven't used <code>transport</code> so I don't know how it works. But I would conjecture that it isn't as powerful as full univalence. (In what sense exactly, I don't know)<br>
But people <em>have</em> tried to get Univalent parametricity without changing the type theory: <a href="https://hal.inria.fr/hal-01559073" target="_blank" title="https://hal.inria.fr/hal-01559073">https://hal.inria.fr/hal-01559073</a></p>

<a name="166529423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166529423" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166529423">Mario Carneiro (May 25 2019 at 14:24)</a>:</h4>
<p>I think that untyped set theory is <em>much</em> better at "implementation invariance" than dependent type theory, in general</p>

<a name="166529448"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166529448" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166529448">Mario Carneiro (May 25 2019 at 14:25)</a>:</h4>
<p>In DTT all your definitions can potentially be "unfolded" and this might matter for making some terms type correct, if they appear as dependencies in a type</p>

<a name="166529452"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166529452" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166529452">Mario Carneiro (May 25 2019 at 14:25)</a>:</h4>
<p>so you basically can't really hide anything, at least in principle</p>

<a name="166529518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166529518" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166529518">Mario Carneiro (May 25 2019 at 14:27)</a>:</h4>
<p>Whether <code>transport</code> is as powerful as full univalence is actually an open research question. It's related to whether univalence computes "propositionally" in book HoTT</p>

<a name="166529972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166529972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166529972">Kevin Buzzard (May 25 2019 at 14:39)</a>:</h4>
<p>I still don't really understand how Strickland's idea managed to get the schemes project out of the hole I'd dug it into.</p>

<a name="166651904"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166651904" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166651904">Floris van Doorn (May 27 2019 at 17:07)</a>:</h4>
<p>I'm late to the party, but here are some of my responses.</p>
<blockquote>
<p>Does the construction of the Serre SS use any axioms?</p>
</blockquote>
<p>No, only univalence and higher inductive types. In HoTT there is a very strong sense of "trying to avoid the axiom of choice". And if you care about that (which mathematicians of course don't), there are some nice new things you can do with HoTT to avoid axioms:</p>
<ul>
<li>You can elimination from the propositional truncation (which is like <code>nonempty</code>) to any subsingleton type without using an axiom. In Lean you would use <code>choice</code> for this.</li>
<li>Normally, if you define the real numbers as Cauchy sequences, you need the (countable) axiom of choice to prove completeness of the real numbers. In HoTT there is a definition of the Cauchy real numbers as a higher inductive type where you can prove completeness without the axiom of choice (you still need choice to prove that it is equivalent to the Dedekind real numbers).</li>
</ul>
<p>This is not to say you cannot add the axiom of choice to HoTT and work classically. This is very much possible. However, as Reid mentions you cannot add <code>classical.choice</code> (that is inconsistent with univalence), you need the weaker set-theoretic formulation of choice (e.g. every surjection has a section).</p>

<a name="166652260"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166652260" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166652260">Floris van Doorn (May 27 2019 at 17:14)</a>:</h4>
<blockquote>
<p>what would the pain points be if one tried to formalise a scheme in HoTT?</p>
</blockquote>
<p>I think the pain points much more depend on which proof assistant you use, and more importantly: which tactics and automation is available. One example of a pain point when doing HoTT in Lean 2 which are specific to HoTT, is that - for example - I had to prove that the ordering on the natural numbers is a proposition (subsingleton): <a href="https://github.com/leanprover/lean2/blob/master/hott/types/nat/hott.hlean#L14" target="_blank" title="https://github.com/leanprover/lean2/blob/master/hott/types/nat/hott.hlean#L14">https://github.com/leanprover/lean2/blob/master/hott/types/nat/hott.hlean#L14</a></p>
<div class="codehilite"><pre><span></span>definition is_prop_le [instance] (n m : ℕ) : is_prop (n ≤ m)
</pre></div>


<p>A much bigger pain point is that univalence doesn't compute in Lean 2, so if you want a function you define to compute definitionally (and in Lean 2 we wanted that, partially because of the lack of a good <code>simp</code>), then you want to avoid using univalence. This made me define many many concepts explicitly which I could have defined using univalence.</p>

<a name="166652496"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166652496" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166652496">Floris van Doorn (May 27 2019 at 17:20)</a>:</h4>
<p>One mentality problem in HoTT is that everything - even proofs of propositions - are definitions and it sometimes matters how you define/prove them, especially if you use dependent types heavily. For example, if you have a sequence of maps <code>X 0 -&gt; X 1 -&gt; X 2 -&gt; ...</code> then you can define a function <code>n &lt;= m -&gt; X n -&gt; X m</code>. In HoTT you can define this function by recursion on the proof that <code>n &lt;= m</code>, and so how that function computes depends on how you have proven that <code>n &lt;= m</code> (for numerals <code>n</code> and <code>m</code> there is only 1 way to do this, but for variables there could be different ways, of course). At one point, I reproved some inequalities of natural numbers to make this function compute better (and it was important that it computed better because I was using dependent types).</p>

<a name="166665147"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166665147" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166665147">Andrew Ashworth (May 27 2019 at 21:28)</a>:</h4>
<p>Out of curiosity, does anyone know about how usable cubical type theory is?</p>

<a name="166666107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166666107" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166666107">Floris van Doorn (May 27 2019 at 21:52)</a>:</h4>
<p>What do you mean by usable?</p>
<ul>
<li>Usable for doing HoTT? Yes, although most proof assistants implementing univalence are pretty experimental and lack high-level features.</li>
<li>Usable for computation of univalence? Yes, it can compute univalence. Although with complicated proofs, the computation is inefficient, so you will have to optimize your proof for efficient computation.</li>
<li>Usable for doing ordinary mathematics? Probably not really.</li>
</ul>

<a name="166670185"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/166670185" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#166670185">Kevin Buzzard (May 27 2019 at 23:02)</a>:</h4>
<p>You mean for the cubing a cube question? ;-)</p>

<a name="167131772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/HoTT/near/167131772" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/75424HoTT.html#167131772">Kevin Buzzard (Jun 02 2019 at 17:59)</a>:</h4>
<p><a href="https://groups.google.com/forum/#!topic/homotopytypetheory/NhIhMd7SM_4" target="_blank" title="https://groups.google.com/forum/#!topic/homotopytypetheory/NhIhMd7SM_4">https://groups.google.com/forum/#!topic/homotopytypetheory/NhIhMd7SM_4</a></p>
<p>The discussion on the HoTT mailing list says a bunch of things which many people here knew already; I guess they are slowly but surely dawning on me.</p>


{% endraw %}
