---
layout: page
title: Lean Prover Zulip Chat Archive 
permalink: archive/116395maths/12382Manifolds.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html">Manifolds</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">
{% raw %}
<a name="165394519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165394519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165394519">Hoang Le Truong (May 11 2019 at 05:41)</a>:</h4>
<p>I have the definition of manifold over a normed field in Lean. You can see it in the following link<br>
<a href="https://github.com/truonghoangle/manifolds" target="_blank" title="https://github.com/truonghoangle/manifolds">https://github.com/truonghoangle/manifolds</a><br>
If you do not mind, please can you give me advice about it, special name of function or section and approach way to the definition of tangent bundle.</p>

<a name="165394777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165394777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165394777">Johan Commelin (May 11 2019 at 05:47)</a>:</h4>
<p>Are you aware of the fact that <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> is also working on manifolds? Did you coordinate with him?</p>

<a name="165395019"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395019" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395019">Hoang Le Truong (May 11 2019 at 05:54)</a>:</h4>
<p>When I began with manifold, I did not known <span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span>  is also working on manifolds. Now I will contact him.</p>

<a name="165395088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395088">Johan Commelin (May 11 2019 at 05:56)</a>:</h4>
<p>Here is one discussion: <a href="#narrow/stream/116395-maths/topic/Multiple.20differentiability" title="#narrow/stream/116395-maths/topic/Multiple.20differentiability">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Multiple.20differentiability</a></p>

<a name="165395103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395103">Johan Commelin (May 11 2019 at 05:57)</a>:</h4>
<p>Here is another one that might be relevant: <a href="#narrow/stream/113488-general/topic/out_param" title="#narrow/stream/113488-general/topic/out_param">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/out_param</a></p>

<a name="165395192"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395192" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395192">Johan Commelin (May 11 2019 at 06:00)</a>:</h4>
<p><span class="user-mention" data-user-id="116065">@Hoang Le Truong</span> Here is another attempt by Patrick: <a href="https://github.com/PatrickMassot/lean-differential-topology" target="_blank" title="https://github.com/PatrickMassot/lean-differential-topology">https://github.com/PatrickMassot/lean-differential-topology</a></p>

<a name="165395262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165395262" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165395262">Hoang Le Truong (May 11 2019 at 06:00)</a>:</h4>
<p>Thank <span class="user-mention" data-user-id="112680">@Johan Commelin</span> for your information</p>

<a name="165398498"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165398498" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165398498">Sebastien Gouezel (May 11 2019 at 07:33)</a>:</h4>
<p>The current state of thingsI have done on manifolds is in <a href="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean" target="_blank" title="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean">https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean</a>. I am going for a more general approach, that would also encompass manifolds with boundaries, or manifolds with corners, or Thurston's (G,X) structures, but essentially the basic definitions are the same as yours, i.e., an atlas such that the changes of charts belong to some class of maps (called a groupoid, as in the fundamental textbook of Kobayashi and Nomizu). What I have done so far:</p>
<ul>
<li>extended the material on derivatives, to get access to a convenient API (PRed in <a href="https://github.com/leanprover-community/mathlib/issues/966" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/966">#966</a>)</li>
<li>defined local equivalences, just like you do except I use genuine functions instead of pfuns, to avoid defining yet another notion of derivatives (and I don't care what the functions do outside of their domains and codomains), and defined a basic interface for them (in <a href="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/local_equiv.lean" target="_blank" title="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/local_equiv.lean">https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/local_equiv.lean</a>). The fact that this is a good choice has been questioned by several people on Zulip, who encouraged me to use pfuns as you do, but for now it seems to go rather smoothly -- I need to develop the library further to see what the advantages and drawbacks are.</li>
<li>defined C^n functions, and proved basic properties (invariance under addition, composition, and so on), in <a href="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/times_cont_diff.lean" target="_blank" title="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/times_cont_diff.lean">https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/times_cont_diff.lean</a></li>
<li>defined general manifolds based on groupoids. As well as diffeomorphisms (for the groupoid structure), and proved that the inverse or the composition of two diffeomorphisms is a diffeomorphism (this is not so obvious) in <a href="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean" target="_blank" title="https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean">https://github.com/sgouezel/mathlib/blob/manifold4/src/geometry/manifolds/basic.lean</a>. Specialized to smooth manifolds, for which I am now defining the tangent space.</li>
</ul>
<p>My goal would be to go up to the Whitney embedding theorem (any smooth real manifold embeds in R^N for large enough N), which is a non-trivial theorem, to stress-test the definitions and the interface.</p>

<a name="165398847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165398847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165398847">Sebastien Gouezel (May 11 2019 at 07:44)</a>:</h4>
<p>One important point in library-building, I think, is that writing down definitions is not enough: you need to prove theorems, to see how definitions work out well or not, and what interface you need for the proofs. For instance, the first statement I settled to prove is that the composition of diffeomorphisms is a diffeomorphism. This showed me that I needed to implement a serious interface to local equivs, that now takes over 800 lines. And now defining the tangent space shows me gaps in this interface, that I will have to fill.</p>

<a name="165399819"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165399819" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165399819">Hoang Le Truong (May 11 2019 at 08:11)</a>:</h4>
<p>My goal would be to go up to the Hodge theorem. I also think that the definition is right through the proof of the theorems. For instance about tangent bundle, we have three ways to give the definition.  Moreover, for complex manifold, we have three tangent bundle.  I am struggling between approachable approach on complex, real number and general ways.</p>

<a name="165400014"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400014" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400014">Johan Commelin (May 11 2019 at 08:17)</a>:</h4>
<p>Do you want to state the Hodge theorem or also prove it?</p>

<a name="165400015"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400015" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400015">Johan Commelin (May 11 2019 at 08:17)</a>:</h4>
<p>Either of them would be fantastic!</p>

<a name="165400502"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400502" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400502">Sebastien Gouezel (May 11 2019 at 08:30)</a>:</h4>
<p>I am going for a general way (over any field), as follows: let <code>charts x</code> be the set of all charts around <code>x</code>. If <code>e</code> and <code>e'</code> are such charts, they yield a linear map from <code>E</code> to <code>E</code>, the derivative of <code>e' o e^{-1}</code>. Take the quotient of <code>(charts x) × E</code> under these identifications, this gives the tangent space. Hopefully, this should be easily generalizable to define exterior or symmetric products of the tangent bundle, opening the way to Riemannian metrics and to differential forms. But before doing the general case, I will stick to tangent spaces for now.</p>

<a name="165400611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400611">Sebastien Gouezel (May 11 2019 at 08:32)</a>:</h4>
<p>Another definition would be to choose one chart around each point, and only use this one to define the tangent space. This avoid taking a quotient, but it is less canonical. I will have to do it at some point, though, because I will want the derivative of a map to be a bounded linear map between tangent spaces, and for this I need a normed space structure on the tangent space, for which there is no canonical choice.</p>

<a name="165400701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165400701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165400701">Patrick Massot (May 11 2019 at 08:33)</a>:</h4>
<p>I think there will be painful points in any case, the only question is whether the API will be able to hide them</p>

<a name="165401048"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165401048" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165401048">Sebastien Gouezel (May 11 2019 at 08:40)</a>:</h4>
<p>Yes, it is definitely going to be nontrivial.</p>

<a name="165403659"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165403659" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165403659">Hoang Le Truong (May 11 2019 at 09:47)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>  I want to prove it but first step is to give the statement of the Hodge theorem</p>

<a name="165404064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165404064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165404064">Hoang Le Truong (May 11 2019 at 09:56)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> are you think how definition of tangent space via derivations is good</p>

<a name="165404136"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165404136" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165404136">Hoang Le Truong (May 11 2019 at 09:59)</a>:</h4>
<p><span class="user-mention" data-user-id="110031">@Patrick Massot</span> can you explain detaily about whether the API will be able to hide them</p>

<a name="165404286"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165404286" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165404286">Sebastien Gouezel (May 11 2019 at 10:03)</a>:</h4>
<p>Definition of tangent space via derivations is very nice, but as far as I remember proofs that it behaves well require localizing functions around the point, and while this works well over R this creates problems over C where you don't have partitions of unity. And this construction is really specific to tangent spaces, while the stupid approach using equivalence classes of vectors should be generalizable to other vector bundles.</p>

<a name="165404699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165404699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165404699">Kevin Buzzard (May 11 2019 at 10:15)</a>:</h4>
<blockquote>
<p>One important point in library-building, I think, is that writing down definitions is not enough: you need to prove theorems, to see how definitions work out well or not, and what interface you need for the proofs.</p>
</blockquote>
<p>Tom Hales' project does not need proofs, so for this project one <em>might</em> find that writing down definitions is in many cases enough. If the goal is just to formalise statements of theorems then this might provide far fewer demands on the definition-builder.</p>

<a name="165405061"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165405061" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165405061">Hoang Le Truong (May 11 2019 at 10:26)</a>:</h4>
<p>With complex maifold we have real tangent bundle, complexified tangent bundle and holomorphic tangent bundle. In fact, we begin with real tangent bundle. So I don't understand what the problems over C is.</p>

<a name="165407103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165407103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165407103">Sebastien Gouezel (May 11 2019 at 11:22)</a>:</h4>
<p>You don't need to separate the real case and the complex case: there is a definition which works for both at the same time. So, to minimize work, it is probably better to use this one.</p>

<a name="165883850"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Manifolds/near/165883850" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/12382Manifolds.html#165883850">Hoang Le Truong (May 17 2019 at 09:02)</a>:</h4>
<p><span class="user-mention" data-user-id="110050">@Sebastien Gouezel</span> I read carefully the definition of very general manifold. It is very nice. I have question:What is the definition of submanifold? Is the definition of submanifold dependent on model space?</p>


{% endraw %}
